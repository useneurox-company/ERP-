const { Markup } = require('telegraf');

// /start command
async function handleStart(ctx) {
  const name = ctx.from.first_name || '–¥—Ä—É–≥';

  await ctx.reply(
    `–ü—Ä–∏–≤–µ—Ç, ${name}! üëã\n\n` +
    `–Ø –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å ERP —Å–∏—Å—Ç–µ–º–æ–π.\n` +
    `–ú–æ–≥—É –ø–æ–º–æ—á—å —Å:\n\n` +
    `üì¶ *–°–¥–µ–ª–∫–∏* ‚Äî —Å–æ–∑–¥–∞—Ç—å, –Ω–∞–π—Ç–∏, –∏–∑–º–µ–Ω–∏—Ç—å\n` +
    `üè≠ *–°–∫–ª–∞–¥* ‚Äî –æ—Å—Ç–∞—Ç–∫–∏, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è\n` +
    `üìä *–û—Ç—á—ë—Ç—ã* ‚Äî –ø—Ä–æ–¥–∞–∂–∏, —Ñ–∏–Ω–∞–Ω—Å—ã\n\n` +
    `–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ —á—Ç–æ –Ω—É–∂–Ω–æ –∏–ª–∏ –≤—ã–±–µ—Ä–∏:`,
    {
      parse_mode: 'Markdown',
      ...Markup.keyboard([
        ['üì¶ –ù–æ–≤–∞—è —Å–¥–µ–ª–∫–∞', 'üìã –ú–æ–∏ —Å–¥–µ–ª–∫–∏'],
        ['üè≠ –°–∫–ª–∞–¥', 'üìä –û—Ç—á—ë—Ç—ã'],
        ['üí¨ –ü–æ–º–æ—â—å']
      ]).resize()
    }
  );
}

// /help command
async function handleHelp(ctx) {
  await ctx.reply(
    `üí¨ *–ö–∞–∫ —Å–æ –º–Ω–æ–π —Ä–∞–±–æ—Ç–∞—Ç—å:*\n\n` +
    `*–¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –≤–≤–æ–¥–∞:*\n` +
    `‚Ä¢ –°–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç ‚Äî –æ–ø–∏—à–∏ –∑–∞–¥–∞—á—É —Å–ª–æ–≤–∞–º–∏\n` +
    `‚Ä¢ –ü–æ —à–∞–≥–∞–º ‚Äî –æ—Ç–≤–µ—á–∞–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n` +
    `‚Ä¢ –§–æ—Ä–º–∞ ‚Äî –∑–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è —Å—Ä–∞–∑—É\n\n` +
    `*–ö–æ–º–∞–Ω–¥—ã:*\n` +
    `/deal ‚Äî –Ω–æ–≤–∞—è —Å–¥–µ–ª–∫–∞\n` +
    `/cancel ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ\n` +
    `/help ‚Äî —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞\n\n` +
    `*–í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–µ—à—å:*\n` +
    `‚Ä¢ –ù–∞–ø–∏—Å–∞—Ç—å "–Ω–∞–∑–∞–¥" ‚Äî –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —à–∞–≥\n` +
    `‚Ä¢ –ù–∞–ø–∏—Å–∞—Ç—å "–æ—Ç–º–µ–Ω–∞" ‚Äî –ø—Ä–µ—Ä–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥\n` +
    `‚Ä¢ –ù–∞–ø–∏—Å–∞—Ç—å "—Ç–µ–∫—Å—Ç–æ–º" ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –≤ —Å–≤–æ–±–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º\n` +
    `‚Ä¢ –ù–∞–ø–∏—Å–∞—Ç—å "–ø–æ —à–∞–≥–∞–º" ‚Äî –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ–∂–∏–º`,
    { parse_mode: 'Markdown' }
  );
}

module.exports = {
  handleStart,
  handleHelp
};
